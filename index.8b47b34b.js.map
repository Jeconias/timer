{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-c3e672a1db4a8e88.js","node_modules/@parcel/runtime-js/lib/runtime-39115dd74214024f.js","node_modules/@parcel/runtime-js/lib/runtime-477cdd44ef45fed5.js","js/player.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"4AsOV\\\":\\\"index.8b47b34b.js\\\",\\\"dimdz\\\":\\\"play-circle.27cac745.svg\\\",\\\"gxEmx\\\":\\\"pause-circle.98efb98a.svg\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dimdz\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gxEmx\")).toString();","import playIcon from '../icons/play-circle.svg';\nimport pauseIcon from '../icons/pause-circle.svg';\n\nclass Notify {\n  _requestPermission = async () => {\n    const isAllowed = (status) => ['granted'].includes(status);\n\n    if (!('Notification' in window)) return Promise.resolve(false);\n\n    return Notification.requestPermission()\n      .then((result) => isAllowed(result))\n      .catch((err) => {\n        console.error(err);\n        return false;\n      });\n  };\n\n  async notify(message) {\n    const allowed = await this._requestPermission();\n    if (!allowed || !message) return;\n\n    new Notification('Timer', { body: message });\n  }\n}\n\nwindow.addEventListener('load', function () {\n  const PLAYER = {\n    ref: null,\n    metadata: {\n      title: null,\n    },\n    done: false,\n  };\n\n  const playerAction = document.getElementById('player-action');\n  const playerIcon = playerAction.getElementsByTagName('img')?.[0];\n\n  if (!playerAction || !playerIcon) return;\n\n  const startIFrame = async () => {\n    if (PLAYER.ref) return Promise.resolve();\n\n    PLAYER.ref = new YT.Player('player', {\n      height: '0',\n      width: '0',\n      videoId: 'tGfQYbArQhc',\n      autoplay: 1,\n      controls: 0,\n      loop: 1,\n      playerVars: {\n        playsinline: 1,\n      },\n      events: {},\n    });\n\n    return new Promise((r) => PLAYER.ref.g.addEventListener('load', r));\n  };\n\n  const notification = new Notify();\n\n  playerAction.addEventListener('click', async (event) => {\n    event.preventDefault();\n    await startIFrame();\n\n    const button = event.currentTarget ?? {};\n\n    const disableOrEnableButton = () => (button.disabled = !button.disabled);\n\n    disableOrEnableButton();\n\n    const videoTitle = PLAYER.ref.videoTitle;\n    const playerState = PLAYER.ref.getPlayerState();\n\n    if (videoTitle) PLAYER.metadata.title = videoTitle;\n\n    const isPaused = [\n      YT.PlayerState.UNSTARTED,\n      YT.PlayerState.PAUSED,\n      YT.PlayerState.CUED,\n    ];\n\n    if (isPaused.includes(playerState)) {\n      PLAYER.ref.playVideo();\n      playerIcon.src = pauseIcon;\n\n      if (PLAYER.metadata.title)\n        await notification.notify(`Tocando \"${PLAYER.metadata.title}\"`);\n    } else if (playerState === YT.PlayerState.PLAYING) {\n      PLAYER.ref.stopVideo();\n      playerIcon.src = playIcon;\n\n      if (PLAYER.metadata.title)\n        await notification.notify(`\"${PLAYER.metadata.title}\" pausado`);\n    }\n\n    disableOrEnableButton();\n  });\n\n  this.window.addEventListener('keydown', (ev) => {\n    const isUp = [ev.code, ev.key].includes('ArrowUp');\n    const isDown = [ev.code, ev.key].includes('ArrowDown');\n\n    if (!PLAYER.ref) return;\n    const volume = PLAYER.ref.getVolume();\n    const jump = volume % 2 !== 0 ? 3 : 2;\n\n    if (isUp && volume < 100) {\n      const newVolumeValue = volume + jump;\n      PLAYER.ref.setVolume(newVolumeValue);\n      console.log(\n        `Action: Volume Up ( from = ${volume}, to = ${newVolumeValue})`\n      );\n    }\n\n    if (isDown && volume > 0) {\n      const newVolumeValue = volume - jump;\n      PLAYER.ref.setVolume(newVolumeValue);\n      console.log(\n        `Action: Volume Down ( from = ${volume}, to = ${newVolumeValue})`\n      );\n    }\n  });\n});\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$b34b422f1769eb0e$exports","URL","resolve","import","meta","url","toString","$b24387b206e9f43d$exports","$9245875c1e07eb50$var$Notify","_requestPermission","async","window","Notification","requestPermission","then","result","includes","catch","err","console","error","Promise","message","this","body","addEventListener","PLAYER","ref","metadata","title","done","playerAction","document","getElementById","playerIcon","getElementsByTagName","notification","event","preventDefault","YT","Player","height","width","videoId","autoplay","controls","loop","playerVars","playsinline","events","r","g","startIFrame","button","currentTarget","disableOrEnableButton","disabled","videoTitle","playerState","getPlayerState","PlayerState","UNSTARTED","PAUSED","CUED","playVideo","src","$parcel$interopDefault","notify","PLAYING","stopVideo","ev","isUp","code","key","isDown","volume","getVolume","jump","newVolumeValue","setVolume","log","newVolumeValue1"],"version":3,"file":"index.8b47b34b.js.map"}