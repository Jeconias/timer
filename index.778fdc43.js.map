{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-c3e672a1db4a8e88.js","node_modules/@parcel/runtime-js/lib/runtime-39115dd74214024f.js","node_modules/@parcel/runtime-js/lib/runtime-477cdd44ef45fed5.js","js/player.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"4AsOV\\\":\\\"index.778fdc43.js\\\",\\\"dimdz\\\":\\\"play-circle.27cac745.svg\\\",\\\"gxEmx\\\":\\\"pause-circle.98efb98a.svg\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dimdz\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gxEmx\")).toString();","import playIcon from '../icons/play-circle.svg';\nimport pauseIcon from '../icons/pause-circle.svg';\n\nclass Notify {\n  _requestPermission = async () => {\n    const isAllowed = (status) => ['granted'].includes(status);\n\n    if (!('Notification' in window)) return Promise.resolve(false);\n\n    return Notification.requestPermission()\n      .then((result) => isAllowed(result))\n      .catch((err) => {\n        console.error(err);\n        return false;\n      });\n  };\n\n  async notify(message) {\n    const allowed = await this._requestPermission();\n    if (!allowed || !message) return;\n\n    new Notification('Timer', { body: message });\n  }\n}\n\nwindow.addEventListener('load', function () {\n  const PLAYER = {\n    ref: new YT.Player('player', {\n      height: '0',\n      width: '0',\n      videoId: 'tGfQYbArQhc',\n      autoplay: 1,\n      controls: 0,\n      loop: 1,\n      playerVars: {\n        playsinline: 1,\n      },\n      events: {},\n    }),\n    metadata: {\n      title: null,\n    },\n    done: false,\n  };\n\n  const playerAction = document.getElementById('player-action');\n  const playerIcon = playerAction.getElementsByTagName('img')?.[0];\n\n  if (!playerAction || !playerIcon) return;\n\n  const notification = new Notify();\n\n  playerAction.addEventListener('click', async (event) => {\n    event.preventDefault();\n    const button = event.currentTarget ?? {};\n\n    const disableOrEnableButton = () => (button.disabled = !button.disabled);\n\n    disableOrEnableButton();\n\n    const videoTitle = PLAYER.ref.videoTitle;\n    const playerState = PLAYER.ref.getPlayerState();\n\n    if (videoTitle) PLAYER.metadata.title = videoTitle;\n\n    const isPaused = [\n      YT.PlayerState.UNSTARTED,\n      YT.PlayerState.PAUSED,\n      YT.PlayerState.CUED,\n    ];\n\n    if (isPaused.includes(playerState)) {\n      PLAYER.ref.playVideo();\n      playerIcon.src = pauseIcon;\n\n      if (PLAYER.metadata.title)\n        await notification.notify(`Tocando \"${PLAYER.metadata.title}\"`);\n    } else if (playerState === YT.PlayerState.PLAYING) {\n      PLAYER.ref.stopVideo();\n      playerIcon.src = playIcon;\n\n      if (PLAYER.metadata.title)\n        await notification.notify(`\"${PLAYER.metadata.title}\" pausado`);\n    }\n\n    disableOrEnableButton();\n  });\n\n  this.window.addEventListener('keydown', (ev) => {\n    const isUp = [ev.code, ev.key].includes('ArrowUp');\n    const isDown = [ev.code, ev.key].includes('ArrowDown');\n\n    if (!PLAYER.ref) return;\n    const volume = PLAYER.ref.getVolume();\n    const jump = volume % 2 !== 0 ? 3 : 2;\n\n    if (isUp && volume < 100) {\n      const newVolumeValue = volume + jump;\n      PLAYER.ref.setVolume(newVolumeValue);\n      console.log(\n        `Action: Volume Up ( from = ${volume}, to = ${newVolumeValue})`\n      );\n    }\n\n    if (isDown && volume > 0) {\n      const newVolumeValue = volume - jump;\n      PLAYER.ref.setVolume(newVolumeValue);\n      console.log(\n        `Action: Volume Down ( from = ${volume}, to = ${newVolumeValue})`\n      );\n    }\n  });\n});\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$b34b422f1769eb0e$exports","URL","resolve","import","meta","url","toString","$b24387b206e9f43d$exports","$9245875c1e07eb50$var$Notify","_requestPermission","async","window","Notification","requestPermission","then","result","includes","catch","err","console","error","Promise","message","this","body","addEventListener","PLAYER","ref","YT","Player","height","width","videoId","autoplay","controls","loop","playerVars","playsinline","events","metadata","title","done","playerAction","document","getElementById","playerIcon","getElementsByTagName","notification","event","preventDefault","button","currentTarget","disableOrEnableButton","disabled","videoTitle","playerState","getPlayerState","PlayerState","UNSTARTED","PAUSED","CUED","playVideo","src","$parcel$interopDefault","notify","PLAYING","stopVideo","ev","isUp","code","key","isDown","volume","getVolume","jump","newVolumeValue","setVolume","log","newVolumeValue1"],"version":3,"file":"index.778fdc43.js.map"}