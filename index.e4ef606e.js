const t=1e3,e=6e4,n=[15e3,3e4,e,3e5,6e5,9e5,12e5,18e5,27e5,36e5],i={START_TIMER:"startTimer",STOP_TIMER:"click"},r="data-time",o="data-current-time",s="data-intervalid",a=()=>{let t="#";for(let e=0;e<3;e++)t+=("0"+Math.floor(Math.random()*Math.pow(16,2)/2).toString(16)).slice(-2);return t},d=()=>{const t=new Date(2014,10,10),e=6e4*t.getTimezoneOffset();return new Date(t.getTime()-e)},c=t=>{const e=d();e.setMilliseconds(t);const n=e.toISOString(),[i,r,o,s,a,c,l]=n.match(/(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})/);return{year:r,month:o,day:s,hour:a,minute:c,second:l}},l=(t,e)=>{let n=t;"string"==typeof t&&(n=parseInt(t)),clearInterval(n),e&&e.removeAttribute(s)},u=(e,n,i)=>{i||n.setAttribute(r,e);const a=d().getTime(),u=d();let m;u.setMilliseconds(e),m=setInterval((()=>{const e=u.getTime()-t;u.setTime(e);const{hour:i,minute:r,second:d}=c(e);n.innerHTML=`${i}:${r}:${d}`,n.setAttribute(s,m),n.setAttribute(o,e-a),e<a&&(l(m,n),n.innerHTML="00:00:00",n.removeAttribute(o))}),t)},m=function(t){const e=t.detail?.timer;t.detail?.intervalId&&l(t.detail.intervalId,this),u(e,this)},T=function(){const t=this,e=t.getAttribute(s);if(e)l(e,t);else{const e=parseInt(t.getAttribute(o));if(isNaN(e))return;u(e,t,!0)}},g=t=>{const e=document.getElementById("background-timer"),n=t?.find((t=>t.attributeName===o)),i=n?.target,s=i?.getAttribute(o),a=i?.getAttribute(r),d=parseInt(s),c=parseInt(a);if(isNaN(d)||isNaN(c))return;const l=Math.floor(100*d/c),u=document.body.scrollHeight,m=Math.floor(u-u*l/100);e.style.bottom=`${m}px`};window.onload=function(){const t=document.getElementById("main"),e=document.getElementById("timer"),r=document.getElementById("timers");if(!e||!r)return;for(const o of n){const n=document.createElement("li"),d=document.createElement("span"),{hour:l,minute:u,second:m}=c(o),T=()=>{const n=e.getAttribute(s);e.dispatchEvent(new CustomEvent(i.START_TIMER,{detail:{timer:o,intervalId:n}})),t.style.backgroundColor=a()};d.innerHTML=`${l}:${u}:${m}`,n.appendChild(d),n.addEventListener("click",T),r.appendChild(n)}e.addEventListener(i.START_TIMER,m),e.addEventListener("click",T);new MutationObserver(g).observe(e,{attributes:!0})};
//# sourceMappingURL=index.e4ef606e.js.map
