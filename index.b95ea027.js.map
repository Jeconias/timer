{"mappings":"imBAsBA,IAAAA,EACAC,E,iFArBA,IAAIC,EAAU,CAAC,EAoBfF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,GAElC,EAaAL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,CACT,C,ICpBAE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,4JCAxC,IAAAC,IAAoBJ,EAAA,SAAAK,QAA6C,SAAAC,OAAAC,KAAAC,KAAUC,WCA3E,IAAAL,IAAoBJ,EAAA,SAAAK,QAA6C,SAAAC,OAAAC,KAAAC,KAAUC,WC8B5FC,OAAOC,iBAAiB,QAAQ,WAgEhC","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-c3e672a1db4a8e88.js","node_modules/@parcel/runtime-js/lib/runtime-39115dd74214024f.js","node_modules/@parcel/runtime-js/lib/runtime-477cdd44ef45fed5.js","js/player.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"4AsOV\\\":\\\"index.b95ea027.js\\\",\\\"dimdz\\\":\\\"play-circle.27cac745.svg\\\",\\\"gxEmx\\\":\\\"pause-circle.98efb98a.svg\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dimdz\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gxEmx\")).toString();","import playIcon from '../icons/play-circle.svg';\nimport pauseIcon from '../icons/pause-circle.svg';\n\nclass Notify {\n  constructor() {\n    this._requestPermission();\n  }\n\n  _requestPermission = async () => {\n    const GRANTED = 'granted';\n\n    if (!('Notification' in window) || Notification.permission !== GRANTED)\n      return Promise.resolve(false);\n\n    return Notification.requestPermission()\n      .then((result) => result === GRANTED)\n      .catch((err) => {\n        console.error(err);\n        return false;\n      });\n  };\n\n  async notify(message) {\n    const allowed = await this._requestPermission();\n    if (!allowed || !message) return;\n\n    new Notification('Timer', { body: message });\n  }\n}\n\nwindow.addEventListener('load', function () {\n  return; // disabled\n\n  const PLAYER = {\n    ref: new YT.Player('player', {\n      height: '0',\n      width: '0',\n      videoId: 'tGfQYbArQhc',\n      autoplay: 1,\n      controls: 0,\n      loop: 1,\n      playerVars: {\n        playsinline: 1,\n      },\n      events: {},\n    }),\n    metadata: {\n      title: null,\n    },\n    done: false,\n  };\n\n  const playerAction = document.getElementById('player-action');\n  const playerIcon = playerAction.getElementsByTagName('img')?.[0];\n\n  if (!playerAction || !playerIcon) return;\n\n  const notification = new Notify();\n\n  playerAction.addEventListener('click', async (event) => {\n    event.preventDefault();\n    const button = event.currentTarget ?? {};\n\n    const disableOrEnableButton = () => (button.disabled = !button.disabled);\n\n    disableOrEnableButton();\n\n    const videoTitle = PLAYER.ref.videoTitle;\n    const playerState = PLAYER.ref.getPlayerState();\n\n    if (videoTitle) PLAYER.metadata.title = videoTitle;\n\n    const isPaused = [\n      YT.PlayerState.UNSTARTED,\n      YT.PlayerState.PAUSED,\n      YT.PlayerState.CUED,\n    ];\n\n    if (isPaused.includes(playerState)) {\n      PLAYER.ref.playVideo();\n      playerIcon.src = pauseIcon;\n\n      if (PLAYER.metadata.title)\n        await notification.notify(`Tocando \"${PLAYER.metadata.title}\"`);\n    } else if (playerState === YT.PlayerState.PLAYING) {\n      PLAYER.ref.stopVideo();\n      playerIcon.src = playIcon;\n\n      if (PLAYER.metadata.title)\n        await notification.notify(`\"${PLAYER.metadata.title}\" pausado`);\n    }\n\n    disableOrEnableButton();\n  });\n});\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","URL","resolve","import","meta","url","toString","window","addEventListener"],"version":3,"file":"index.b95ea027.js.map"}